# Лабораторная работа №9

## Цель работы
Сформировать умения разрабатывать, создавать объекты классов и использовать их в программах.

## Условия заданий

### Задание 1: Создание объектов классов и их базовая обработка
Создайте классы с указанными полями и методами:

**Вариант 3: Movie** ✅
- **Поля**: Title, Director, Year
- **Метод**: DisplayInfo() для вывода информации о фильме
- **Функциональность**: Создание объектов, вывод информации, расчет возраста фильма

### Задание 2: Массивы объектов классов и их обработка
Создайте массивы объектов указанных классов и выполните операции:

**Вариант 3: Movie** ✅
- **Операция**: Отсортировать по году выхода
- **Функциональность**: Создание массива объектов класса Movie, сортировка по году (по возрастанию и убыванию)
- **Дополнительно**: Статистика по фильмам

### Задание 3: Обработка массивов объектов
Выполните сложную обработку массивов объектов:

**Вариант 3: Movie** ✅
- **Операция**: Сортировка по названию в алфавитном порядке
- **Функциональность**: Сортировка массива объектов Movie по названию (A-Z и Z-A)
- **Дополнительно**: Поиск фильмов по первой букве, группировка по алфавиту

### Задание 4: Взаимодействие между объектами через внедрение зависимостей
Создайте классы с взаимодействием объектов:

**Вариант 3: Course с Instructor** ✅
- **Классы**: Course и Instructor
- **Взаимодействие**: Класс Course использует объект класса Instructor для хранения данных об инструкторе
- **Функциональность**: Изменение инструктора, расчет стоимости курса, поиск курсов по инструктору

## Теория

### Основы объектно-ориентированного программирования (ООП)

**Объектно-ориентированное программирование** - это парадигма программирования, основанная на концепции объектов, которые содержат данные и код.

#### Основные принципы ООП:
- **Инкапсуляция** - объединение данных и методов в единый объект
- **Наследование** - создание новых классов на основе существующих
- **Полиморфизм** - способность объектов с одинаковым интерфейсом иметь различную реализацию
- **Абстракция** - выделение существенных характеристик объекта

### Классы и объекты в C#

#### Класс
Класс - это шаблон для создания объектов, определяющий их структуру и поведение.

```csharp
public class Movie
{
    // Поля (данные)
    public string Title { get; set; }
    public string Director { get; set; }
    public int Year { get; set; }
    
    // Конструктор по умолчанию для Bogus
    public Movie()
    {
        Title = string.Empty;
        Director = string.Empty;
        Year = 0;
    }
    
    // Параметризованный конструктор
    public Movie(string title, string director, int year)
    {
        Title = title;
        Director = director;
        Year = year;
    }
    
    // Методы (поведение)
    public void DisplayInfo()
    {
        Console.WriteLine($"Фильм: {Title}");
    }
}
```

#### Объект
Объект - это экземпляр класса, созданный в памяти.

```csharp
Movie movie = new Movie("Матрица", "Вачовски", 1999);
```

### Свойства (Properties)

Свойства - это специальные члены класса, которые обеспечивают гибкий механизм чтения, записи или вычисления значений приватных полей.

```csharp
public class Product
{
    private decimal _price;
    
    public decimal Price
    {
        get { return _price; }
        set 
        { 
            if (value >= 0)
                _price = value; 
        }
    }
}
```

### Конструкторы

Конструкторы - это специальные методы, которые вызываются при создании объекта.

```csharp
public class BankAccount
{
    public string AccountHolder { get; set; }
    public decimal Balance { get; set; }
    
    // Конструктор по умолчанию
    public BankAccount()
    {
        Balance = 0;
    }
    
    // Параметризованный конструктор
    public BankAccount(string accountHolder, decimal initialBalance)
    {
        AccountHolder = accountHolder;
        Balance = initialBalance;
    }
}
```

### Массивы объектов

Массивы объектов позволяют хранить множество экземпляров одного класса.

```csharp
// Создание массива объектов
Movie[] movies = new Movie[5];

// Заполнение массива
movies[0] = new Movie("Фильм 1", "Режиссер 1", 2020);
movies[1] = new Movie("Фильм 2", "Режиссер 2", 2021);

// Использование LINQ для работы с массивами
var sortedMovies = movies.OrderBy(m => m.Year).ToArray();
```

### LINQ (Language Integrated Query)

LINQ предоставляет мощные возможности для работы с коллекциями.

#### Основные операции:
- **Where** - фильтрация
- **OrderBy/OrderByDescending** - сортировка
- **Select** - проекция
- **GroupBy** - группировка
- **Average/Sum/Count** - агрегация

```csharp
// Фильтрация
var oldMovies = movies.Where(m => m.Year < 2000);

// Сортировка
var sortedByTitle = movies.OrderBy(m => m.Title);

// Группировка
var groupedByDirector = movies.GroupBy(m => m.Director);
```

### Взаимодействие между объектами

#### Композиция
Объект одного класса содержит объект другого класса.

```csharp
public class Course
{
    public string Name { get; set; }
    public Instructor Instructor { get; set; } // Композиция
    
    public Course(string name, Instructor instructor)
    {
        Name = name;
        Instructor = instructor;
    }
}
```

#### Внедрение зависимостей
Передача зависимостей через конструктор или методы.

```csharp
public class Library
{
    private List<Book> _books;
    
    public Library(List<Book> books) // Внедрение зависимости
    {
        _books = books;
    }
}
```

### Модификаторы доступа

- **public** - доступен везде
- **private** - доступен только внутри класса
- **protected** - доступен внутри класса и наследников
- **internal** - доступен внутри сборки

### Статические члены

Статические члены принадлежат классу, а не объекту.

```csharp
public class MathHelper
{
    public static double PI = 3.14159;
    
    public static double CalculateArea(double radius)
    {
        return PI * radius * radius;
    }
}
```

### Библиотека Bogus

Bogus - это библиотека для генерации реалистичных тестовых данных.

```csharp
var faker = new Faker<Movie>()
    .RuleFor(m => m.Title, f => f.Lorem.Sentence(2, 3))
    .RuleFor(m => m.Director, f => f.Name.FullName())
    .RuleFor(m => m.Year, f => f.Random.Int(1950, 2024));

var movie = faker.Generate();
```

**Важно**: Для работы с Bogus класс должен иметь конструктор по умолчанию (без параметров).

### Практические рекомендации

#### Создание объектов:
1. Используйте конструкторы для инициализации
2. Применяйте свойства для контроля доступа к данным
3. Следуйте принципам инкапсуляции
4. Добавляйте конструктор по умолчанию для работы с библиотеками типа Bogus

#### Работа с коллекциями:
1. Используйте LINQ для эффективной обработки
2. Применяйте типизированные коллекции
3. Рассматривайте производительность при работе с большими данными

#### Взаимодействие объектов:
1. Минимизируйте связанность между классами
2. Используйте интерфейсы для слабой связанности
3. Применяйте паттерны проектирования при необходимости 